"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const abi_1 = require("@ethersproject/abi");
function createWhitelistStrategy() {
    return {
        type: 'whitelist',
        async getParams() {
            return '0x00';
        },
        async getVotingPower(strategyAddress, voterAddress, timestamp, params) {
            const abiCoder = new abi_1.AbiCoder();
            const whitelistParams = abiCoder.decode(['tuple(address addr, uint256 vp)[]'], params);
            const match = whitelistParams[0].find((entry) => entry.addr.toLowerCase() === voterAddress.toLowerCase());
            if (match) {
                return BigInt(match.vp.toString());
            }
            return 0n;
        }
    };
}
exports.default = createWhitelistStrategy;
